{% extends model('component') %}

{% define config = {
    name: 'cart-comment-info',
} %}

{% define data = {
    form: {},
    comment: required,
    returnRoute: '',
} %}

{% block body %}
    {% block text %}
        <p>{{ data.comment.customer.firstName }} {{ data.comment.customer.lastName }}</p>
        <p class="text-secondary">
            <span>{{ data.comment.createdAt | formatDateTime }}</span>
            {% if data.comment.isUpdated %}
                <span>({{ 'comment_widget.form.edited' | trans }})</span>
            {% endif %}
        </p>
        {% if not data.form %}
            <p>{{ data.comment.message }}</p>
        {% endif %}
    {% endblock %}

    {% block form %}
        {% if data.form %}
            {% include molecule('cart-comment-form', 'CommentWidget') with {
                data: {
                    form: data.form,
                    comment: data.comment,
                    returnRoute: data.returnRoute,
                },
            } only %}
        {% endif %}
    {% endblock %}
{% endblock %}
